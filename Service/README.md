# 抄了一半的代码过来更新一下
非常垃圾的垃圾代码我觉得现在
```
完全看不懂 得重新设计
```

```
Notification 更新时:
    失败
    暂停
    取消
    正在下载
    成功
Binder要实现的功能：
    取消
        停下下载然后清了下载的东西
    暂停
        停止当前的下载
    开始
        启动服务内的下载服务

开始：@Binder
    传入参数URL判断生效
    新建活数据观察着
        当改变时判断是否取消失败暂停成功等
    启动服务->launch(服务) {下载}
下载:@Service
    对比本地网络长度判断是否值得下载 分支：
      本地存在且与网络相等 成功回调
      不相等跳过已经下载的东西 @continue
      响应为空或网络长度为0时 失败回调
      网络!0&文件不存在时下载新的 @continue
    continue:
    再次获取响应且判空 空时抛出异常或失败回调。
    新建乱序文件
    循环写入文件 基色 跳出时分支
      暂停 回调
      取消 回调
      长度相等 成功回调
    清理时回调

成功回调:
    设置活数据的值为101
失败回调：
    设置活数据的值为-2
    并清理
暂停回调
    -3
    并关闭
清理 参数-是否取消：





首先在启动的时候是
```
# 尝试做开发手册
记事本罢了
```
计算下载长度  参数：URL
    获取网络文件长度
    获取本地文件长度
    对比长度
     如果相等则成功结束 如果长度异常则失败
     如果长度 小于文件大小并且大于0则继续下载 -> 新函数
     如果长度为0则开始新的 ->新函数
正在下载  传入参数：URL FILE 长度 数据改变时回调
    分支 获取响应
      失败则判断原因并结束
      成功则
        新建随机文件
        跳过该下载长度，
        循环：遍历写入 抄；调用在数据改变时回调
        关闭响应
    结束函数
```
#### 回调
```
成功回调
进度回调
```
#### 前台服务
```

```

